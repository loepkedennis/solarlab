<app-navbar title="ZurÃ¼ck"></app-navbar>
<div class="wrapper">
<div class="container">
    <h2 *ngIf="!task.id">Neue Karte anlegen</h2>
    <h2 *ngIf="task.id">Karte bearbeiten</h2>
    
    <form (ngSubmit)="saveTask(form.value)" #form="ngForm" >

        <div class="form-group" >
            <label for="solarid">Trello CARD ID</label>
                <input type="text" id="solarid" class="form-control"
                    [ngModel]="task.id"
                    name="id" disabled />
        </div>

        <div class="form-group" >
            <label for="solarlabid">SolarLab ID</label>
                <input type="text" id="solarlabid" class="form-control"
                    [ngModel]="task.taskid"
                    name="taskid" disabled />
        </div>
                   
        <div class="form-group" >
            <label for="name">Name</label>
            <input type="text" id="name" class="form-control"
                   [ngModel]="task.name"
                   name="name" 
                   required minlength="5" maxlength="100"/>
    
           <!-- <show-error text="Titel" path="title"></show-error>-->
        </div>
    
        <div class="form-group">
            <label for="description">Beschreibung</label>
                <textarea id="description" class="form-control" name="desc" [ngModel]="task.desc">
                </textarea>
           <!-- <show-error text="Beschreibung" path="description"></show-error> -->
        </div>
    <!--
        <div>
            <div *ngFor="let tag of task.tags; let i = index" >
                <div class="form-inline form-group">
                    <input class="form-control"
                           name="tag{{i}}"
                           [ngModel]="tag.label"
                           minlength="3">
    
                    <button class="btn btn-danger"
                            (click)="removeTag(i)">
                        Tag entfernen
                    </button>
                -->
                   <!-- <show-error text="Tag" path="tag{{i}}"></show-error>-->
                <!--
                </div>
            </div>
        </div>
        <div class="form-group">
            <button class="btn btn-success"
                    (click)="addTag()" >
                +
            </button>
        </div>
    -->
    <!--
        <div class="form-group">
            <label>Status</label>
            <select  name="state" [(ngModel)]="task.state" class="form-control">
                <optgroup *ngFor="let group of model.stateGroups"  [label]="group.label">
                    <option *ngFor="let state of group.states" [value]="state">
                        {{model.stateTexts[state]}}
                    </option>
                </optgroup>
            </select>
        </div>
    -->
        <div class="form-group">
            <label>Gitlab Projekt</label>
            <select  name="project" [(ngModel)]="project" class="form-control">
                    <option *ngFor="let item of gitlablist" [ngValue]="item">
                        {{item.name_with_namespace}}
                    </option>
               
            </select>
        </div>
    
        <div class="form-group">
            <label>Automerge bei: </label>
            <select  name="trello" [(ngModel)]="trello" class="form-control">
                
                    <option *ngFor="let trelloitem of trellolist" [ngValue]="trelloitem">
                        {{trelloitem.name}}
                    </option>
               
            </select>
        </div>
        <a class="btn btn-default"
           [routerLink]="task.id ? '../..' : '..'">
          Abbrechen
        </a>
        <button type="submit"
                class="btn btn-default"
                >
            Aufgabe speichern
        </button>
    </form>
</div>   
</div>